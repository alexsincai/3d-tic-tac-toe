var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function l(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function c(n,e,r){n.$$.on_destroy.push(function(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}(e,r))}function u(t,n,e=n){return t.set(e),n}function s(t,n){t.appendChild(n)}function i(t,n,e){t.insertBefore(n,e||null)}function f(t){t.parentNode.removeChild(t)}function a(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function p(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function d(){return h(" ")}function m(){return h("")}function g(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function $(t){return function(n){return n.preventDefault(),t.call(this,n)}}function y(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}class b{constructor(t,n=null){this.e=p("div"),this.a=n,this.u(t)}m(t,n=null){for(let e=0;e<this.n.length;e+=1)i(t,this.n[e],n);this.t=t}u(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}p(t){this.d(),this.u(t),this.m(this.t,this.a)}d(){this.n.forEach(f)}}let v;function x(t){v=t}const w=[],_=[],A=[],z=[],E=Promise.resolve();let N=!1;function k(t){A.push(t)}let C=!1;const L=new Set;function O(){if(!C){C=!0;do{for(let t=0;t<w.length;t+=1){const n=w[t];x(n),j(n.$$)}for(w.length=0;_.length;)_.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];L.has(n)||(L.add(n),n())}A.length=0}while(w.length);for(;z.length;)z.pop()();N=!1,C=!1,L.clear()}}function j(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(k)}}const B=new Set;let M;function P(t,n){t&&t.i&&(B.delete(t),t.i(n))}function S(t,n,e,r){if(t&&t.o){if(B.has(t))return;B.add(t),M.c.push(()=>{B.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function T(t){t&&t.c()}function q(t,e,l){const{fragment:c,on_mount:u,on_destroy:s,after_update:i}=t.$$;c&&c.m(e,l),k(()=>{const e=u.map(n).filter(o);s?s.push(...e):r(e),t.$$.on_mount=[]}),i.forEach(k)}function D(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function H(t,n){-1===t.$$.dirty[0]&&(w.push(t),N||(N=!0,E.then(O)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function F(n,o,l,c,u,s,i=[-1]){const f=v;x(n);const a=o.props||{},p=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:e(),dirty:i};let h=!1;p.ctx=l?l(n,a,(t,e,...r)=>{const o=r.length?r[0]:e;return p.ctx&&u(p.ctx[t],p.ctx[t]=o)&&(p.bound[t]&&p.bound[t](o),h&&H(n,t)),e}):[],p.update(),h=!0,r(p.before_update),p.fragment=!!c&&c(p.ctx),o.target&&(o.hydrate?p.fragment&&p.fragment.l(function(t){return Array.from(t.childNodes)}(o.target)):p.fragment&&p.fragment.c(),o.intro&&P(n.$$.fragment),q(n,o.target,o.anchor),O()),x(f)}class G{$destroy(){D(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}const I=[];function J(n,e=t){let r;const o=[];function c(t){if(l(n,t)&&(n=t,r)){const t=!I.length;for(let t=0;t<o.length;t+=1){const e=o[t];e[1](),I.push(e,n)}if(t){for(let t=0;t<I.length;t+=2)I[t][0](I[t+1]);I.length=0}}}return{set:c,update:function(t){c(t(n))},subscribe:function(l,u=t){const s=[l,u];return o.push(s),1===o.length&&(r=e(c)||t),l(n),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}let K=J(Array(3).fill().map(t=>Array(3).fill().map(t=>Array(3).fill().map(t=>null)))),Q=J(0);const R={subscribe:J(["&nbsp;","&times;","&#9711;"],U).subscribe};var U;const V=t=>t.some(t=>t.some(t=>t.every((t,n,e)=>t===e[0]&&null!==e[0]))),W=t=>V((t=>t.map((n,e)=>n.map((n,r)=>n.map((n,o)=>t[e][r][o]))))(t)),X=t=>V((t=>t.map((n,e)=>n.map((n,r)=>n.map((n,o)=>t[e][o][r]))))(t)),Y=t=>V((t=>t.map((n,e)=>n.map((n,r)=>n.map((n,o)=>t[o][r][e]))))(t)),Z=t=>[[[t[0][0][0],t[0][1][1],t[0][2][2]],[t[0][0][2],t[0][1][1],t[0][2][0]]],[[t[1][0][0],t[1][1][1],t[1][2][2]],[t[1][0][2],t[1][1][1],t[1][2][0]]],[[t[2][0][0],t[2][1][1],t[2][2][2]],[t[2][0][2],t[2][1][1],t[2][2][0]]],[[t[0][0][0],t[2][0][2],t[2][0][2]],[t[0][0][2],t[2][0][2],t[2][0][0]]],[[t[0][1][0],t[2][1][2],t[2][1][2]],[t[0][1][2],t[2][1][2],t[2][1][0]]],[[t[0][2][0],t[2][2][2],t[2][2][2]],[t[0][2][2],t[2][2][2],t[2][2][0]]],[[t[0][0][0],t[1][1][0],t[2][2][0]],[t[0][2][0],t[1][1][0],t[2][0][0]]],[[t[0][0][1],t[1][1][1],t[2][2][1]],[t[0][2][1],t[1][1][1],t[2][0][1]]],[[t[0][0][2],t[1][1][2],t[2][2][2]],[t[0][2][2],t[1][1][2],t[2][0][2]]],[[t[0][0][0],t[1][1][1],t[2][2][2]],[t[2][0][2],t[1][1][1],t[0][2][0]]],[[t[2][0][0],t[1][1][1],t[0][2][2]],[t[0][0][2],t[1][1][1],t[2][2][0]]]].some(t=>t.some(t=>t.every((t,n,e)=>t===e[0]&&null!==e[0])));function tt(t,n,e){const r=t.slice();return r[11]=n[e],r[13]=e,r}function nt(t,n,e){const r=t.slice();return r[8]=n[e],r[10]=e,r}function et(t){let n,e,r,o,l=t[1](t[13],t[10])+"";function c(...n){return t[7](t[13],t[10],...n)}return{c(){n=p("button"),r=d(),e=new b(l,r),y(n,"class","svelte-8zrp0m")},m(t,l){i(t,n,l),e.m(n),s(n,r),o=g(n,"click",$(c))},p(n,r){t=n,2&r&&l!==(l=t[1](t[13],t[10])+"")&&e.p(l)},d(t){t&&f(n),o()}}}function rt(t){let n,e=t[8],r=[];for(let n=0;n<e.length;n+=1)r[n]=et(tt(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=m()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);i(t,n,e)},p(t,o){if(15&o){let l;for(e=t[8],l=0;l<e.length;l+=1){const c=tt(t,e,l);r[l]?r[l].p(c,o):(r[l]=et(c),r[l].c(),r[l].m(n.parentNode,n))}for(;l<r.length;l+=1)r[l].d(1);r.length=e.length}},d(t){a(r,t),t&&f(n)}}}function ot(n){let e,r=n[2][n[0]],o=[];for(let t=0;t<r.length;t+=1)o[t]=rt(nt(n,r,t));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c();y(e,"class","svelte-8zrp0m")},m(t,n){i(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[n]){if(15&n){let l;for(r=t[2][t[0]],l=0;l<r.length;l+=1){const c=nt(t,r,l);o[l]?o[l].p(c,n):(o[l]=rt(c),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}},i:t,o:t,d(t){t&&f(e),a(o,t)}}}function lt(t,n,e){let r,o,l;c(t,K,t=>e(2,r=t)),c(t,R,t=>e(5,o=t)),c(t,Q,t=>e(6,l=t));let{z:s}=n,{allow:i}=n;const f=(t,n)=>{null===r[s][n][t]&&i&&(u(K,r[s][n][t]=l,r),u(Q,l=(l+1)%2))};let a;return t.$set=t=>{"z"in t&&e(0,s=t.z),"allow"in t&&e(4,i=t.allow)},t.$$.update=()=>{37&t.$$.dirty&&e(1,a=(t,n)=>{let e=r[s][n][t];return null===e?o[0]:o[e+1]})},[s,a,r,f,i,o,l,(t,n,e)=>f(t,n)]}class ct extends G{constructor(t){super(),F(this,t,lt,ot,l,{z:0,allow:4})}}function ut(t,n,e){const r=t.slice();return r[6]=n[e],r[8]=e,r}function st(t){let n;const e=new ct({props:{z:t[8],allow:!t[0]}});return{c(){T(e.$$.fragment)},m(t,r){q(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.allow=!t[0]),e.$set(r)},i(t){n||(P(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){D(e,t)}}}function it(t){let n,e,r,o,l,c,u,a;return{c(){n=p("div"),e=p("h2"),o=h("\n      has won!"),l=d(),c=p("p"),u=p("button"),u.textContent="Play again?",r=new b(t[2],o),y(e,"class","svelte-pfxvyp"),y(n,"class","svelte-pfxvyp")},m(f,p){i(f,n,p),s(n,e),r.m(e),s(e,o),s(n,l),s(n,c),s(c,u),a=g(u,"click",$(t[3]))},p(t,n){4&n&&r.p(t[2])},d(t){t&&f(n),a()}}}function ft(t){let n,e,o,l=t[1],c=[];for(let n=0;n<l.length;n+=1)c[n]=st(ut(t,l,n));const u=t=>S(c[t],1,1,()=>{c[t]=null});let s=t[0]&&it(t);return{c(){for(let t=0;t<c.length;t+=1)c[t].c();n=d(),s&&s.c(),e=m()},m(t,r){for(let n=0;n<c.length;n+=1)c[n].m(t,r);i(t,n,r),s&&s.m(t,r),i(t,e,r),o=!0},p(t,[o]){if(3&o){let e;for(l=t[1],e=0;e<l.length;e+=1){const r=ut(t,l,e);c[e]?(c[e].p(r,o),P(c[e],1)):(c[e]=st(r),c[e].c(),P(c[e],1),c[e].m(n.parentNode,n))}for(M={r:0,c:[],p:M},e=l.length;e<c.length;e+=1)u(e);M.r||r(M.c),M=M.p}t[0]?s?s.p(t,o):(s=it(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i(t){if(!o){for(let t=0;t<l.length;t+=1)P(c[t]);o=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)S(c[t]);o=!1},d(t){a(c,t),t&&f(n),s&&s.d(t),t&&f(e)}}}function at(t,n,e){let r,o,l;c(t,K,t=>e(1,r=t)),c(t,R,t=>e(4,o=t)),c(t,Q,t=>e(5,l=t));let s,i;return t.$$.update=()=>{2&t.$$.dirty&&e(0,s=(t=>[W(t),X(t),Y(t),Z(t)])(r).some(t=>t)),49&t.$$.dirty&&e(2,i=s&&o[(l+1)%2+1])},[s,r,i,()=>{u(K,r=Array(3).fill().map(t=>Array(3).fill().map(t=>Array(3).fill().map(t=>null)))),u(Q,l=0)}]}class pt extends G{constructor(t){super(),F(this,t,at,ft,l,{})}}function ht(n){let e;const r=new pt({});return{c(){T(r.$$.fragment)},m(t,n){q(r,t,n),e=!0},p:t,i(t){e||(P(r.$$.fragment,t),e=!0)},o(t){S(r.$$.fragment,t),e=!1},d(t){D(r,t)}}}const dt=new class extends G{constructor(t){super(),F(this,t,null,ht,l,{})}}({target:document.body});return window.board=dt,dt}();
